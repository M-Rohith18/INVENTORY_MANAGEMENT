<div class="py-4" style="background: linear-gradient(120deg, #ff9a9e, #fad0c4); min-height: 100vh; font-family: 'Segoe UI', sans-serif;">

  <div class="container" style="max-width: 85%; margin: auto;">

    <h2 class="fw-bold mb-4 text-dark text-center">
      <span style="background: white; padding: 6px 14px; border-radius: 8px; box-shadow: 0 2px 6px rgba(0,0,0,0.2);">
        ðŸ“¦ Inventory Dashboard
      </span>
    </h2>

    <!-- Summary Cards -->
    <div class="row g-4 mb-4">
      <div class="col-md-4">
        <div class="card text-white shadow summary-card" style="background: linear-gradient(45deg, #6a11cb, #2575fc);">
          <div class="card-body">
            <div class="d-flex align-items-center">
              <i class="fas fa-th-list fa-2x me-3"></i>
              <div>
                <h6 class="mb-0">Categories</h6>
                <h3 class="fw-bold">{{ totalCategories }}</h3>
              </div>
            </div>
          </div>
        </div>
      </div>
      <div class="col-md-4">
        <div class="card text-white shadow summary-card" style="background: linear-gradient(45deg, #f7971e, #ffd200);">
          <div class="card-body">
            <div class="d-flex align-items-center">
              <i class="fas fa-boxes fa-2x me-3"></i>
              <div>
                <h6 class="mb-0">Total Items</h6>
                <h3 class="fw-bold">{{ totalItems }}</h3>
              </div>
            </div>
          </div>
        </div>
      </div>
      <div class="col-md-4">
        <div class="card text-white shadow summary-card" style="background: linear-gradient(45deg, #ff416c, #ff4b2b);">
          <div class="card-body">
            <div class="d-flex align-items-center">
              <i class="fas fa-exclamation-triangle fa-2x me-3"></i>
              <div>
                <h6 class="mb-0">Low Stock</h6>
                <h3 class="fw-bold">{{ lowStockItems }}</h3>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>

    <!-- Filters -->
    <div class="card shadow-sm p-3 mb-4" style="border-radius: 12px;">
      <div class="row g-3">
        <div class="col-md-4">
          <label class="form-label fw-bold">Filter by Category</label>
          <select class="form-select" [(ngModel)]="selectedCategory" (change)="loadItems()">
            <option value="">-- All Categories --</option>
            <option *ngFor="let category of categories" [value]="category.id">
              {{ category.name }}
            </option>
          </select>
        </div>
        <div class="col-md-4 offset-md-4">
          <label class="form-label fw-bold">Search</label>
          <input
            type="text"
            class="form-control"
            placeholder="Search by name or category..."
            [(ngModel)]="searchTerm"
            (input)="applyFilters()"
          />
        </div>
      </div>
    </div>

    <!-- Items Table -->
    <div class="card shadow-sm p-0" style="border-radius: 12px; overflow: hidden;">
      <div class="table-responsive">
        <table class="table table-striped table-hover align-middle text-center mb-0">
          <thead class="table-primary">
            <tr>
              <th>Category</th>
              <th>Item Name</th>
              <th>Stock</th>
              <th>Actions</th>
            </tr>
          </thead>
          <tbody>
            <tr *ngFor="let item of paginatedItems">
              <td>{{ item.category_name }}</td>
              <td>{{ item.name }}</td>
             <td>
              <span class="stock-indicator low" *ngIf="item.current_stock < 20">
                {{ item.current_stock }}
              </span>
              <span class="stock-indicator high" *ngIf="item.current_stock >= 20">
                {{ item.current_stock }} 
              </span>
            </td>

              <td>
                <button class="btn btn-sm btn-outline-primary me-1" [routerLink]="['/items', item.id, 'view']">
                  <i class="fas fa-eye"></i>
                </button>
                <button class="btn btn-sm btn-outline-warning me-1" (click)="editItem(item.id)">
                  <i class="fas fa-edit"></i>
                </button>
                <button class="btn btn-sm btn-outline-danger" (click)="deleteItem(item.id)">
                  <i class="fas fa-trash-alt"></i>
                </button>
              </td>
            </tr>
            <tr *ngIf="paginatedItems.length === 0">
              <td colspan="4" class="text-muted py-3">No items found.</td>
            </tr>
          </tbody>
        </table>
      </div>
    </div>

    <!-- Pagination -->
    <nav *ngIf="totalPages > 1" class="mt-3">
      <ul class="pagination justify-content-center">
        <li class="page-item" [class.disabled]="currentPage === 1">
          <a class="page-link" (click)="changePage(currentPage - 1)">Â«</a>
        </li>
        <li
          class="page-item"
          *ngFor="let page of pages"
          [class.active]="currentPage === page"
        >
          <a class="page-link" (click)="changePage(page)">{{ page }}</a>
        </li>
        <li class="page-item" [class.disabled]="currentPage === totalPages">
          <a class="page-link" (click)="changePage(currentPage + 1)">Â»</a>
        </li>
      </ul>
    </nav>

  </div>
</div>


